<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Reproducibilidad</title>
    <meta charset="utf-8" />
    <meta name="author" content="Florencia D‚ÄôAndrea" />
    <meta name="date" content="2020-07-16" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Reproducibilidad
## Una serie de herramientas
### Florencia D‚ÄôAndrea
### 2020-07-16

---







# Hola! Aqu√≠ Florencia

- Biologa / Investigadora postdoctoral INTA-CONICET

- ¬°Me encanta ense√±ar!

- Fan√°tica de las clases de actuaci√≥n y las actividades al aire libre

- Web [florencia.netlify.app](florencia.netlify.app)

- Twitter [@cantoflor87](twitter.com/cantoflor_87)

---

class: center, middle

### ¬øC√≥mo se me ocurri√≥ dar esta charla?

![](https://media.giphy.com/media/l3vR85PnGsBwu1PFK/giphy.gif)

---

background-image: url("images/repro.png")
background-position: center
background-size: contain

---

# Anna Krystalli en UseR! 2020

[Video](https://www.youtube.com/watch?v=KHMW8fV2NXo) - [Filminas](https://annakrystalli.me/talks/user2020.html#1)



&lt;img src="images/anna.png" width="600" height="400" /&gt;



---

&lt;img src="images/1.png" width="2560" /&gt;

---

&lt;img src="images/2.png" width="2560" /&gt;


---

# LatinR 2020

Conferencia Latinoamericana sobre Uso de R en Investigaci√≥n + Desarrollo

7 al 9 de octubre 2020 - Virtual

[latin-r.com](latin-r.com)

&lt;img src="images/latinr.jpg" width="200" height="200" /&gt;



---
class: inverse, center, middle

# Empecemos

---

# ¬øQu√© es la reproducibilidad?

&gt; Los autores proporcionan todos los datos necesarios y el c√≥digo para ejecutar el an√°lisis nuevamente y recrear los resultados. 


--


&gt; Reproducibilidad computacional: cuando se proporciona informaci√≥n detallada sobre c√≥digo, software, hardware y detalles de implementaci√≥n.



.footnote[Claerbout-Karrenbach(1992) - Reproducibility]

---

# Ventajas de la reproducibilidad

1. Genera un historial de tu trabajo
 
 * datos
 * herramientas 
 * m√©todos
 * c√≥digo
 * documentaci√≥n 

2. M√°s f√°cil que recibir colaboraciones

3. Publish validated research and avoid misinformation

4. Write your papers, thesis and reports efficiently

5. Get credits for your work fairly

6. Ensure continuity of your work


---

# ¬øA qui√©n no le paso?

--

**Quiero correr mi c√≥digo en otra computadora o compartirlo**

--

PROBLEMAS:

 * Rutas de archivos 
 
 * Problemas con las versiones del software o formatos de archivos

--

**Quiero correr mi c√≥digo luego de cierto tiempo**

--

PROBLEMAS:

 * Actualic√© los paquetes y el softwares
 
 * Cambios en las extensiones de los archivos, que pueden volverse ilegibles (por ejemplo .xls y .xlsx)

---

class: center, middle, inverse


# Compartiendo mi c√≥digo

---

class: center, middle

# Entornos computacionales


---

## Hay varias formas de capturar entornos computacionales.

* Sistemas de administraci√≥n de paquetes (packrat - renv)

* Binder

* M√°quinas virtuales 

* Contenedores

---

# Binder

Una versi√≥n de un proyecto dentro de un entorno computacional reproducible con la cual se puede compartir e interactuar a trav√©s de un navegador web.


&lt;img src="images/binderlogo.png" width="1793" /&gt;


---

.pull-left[
## Beneficios

- Es relatiamente facil de usar

- Podes acceder a la informaci√≥n con solo un click

- Es gratuito
]
.pull-right[
## Limitaciones

- Potencia computacional

- Seguridad/privacidad (si usan mybinder.org)

- Also no FTP for connecting to some data.
]

---

# ¬øQu√© es un BinderHub?


&lt;img src="images/siberia.jpg" width="1000" /&gt;



---

# mybinder.org 

Un BinderHub p√∫blico y gratuito. Debido a que es p√∫blico, no debe usarlo si su proyecto requiere informaci√≥n personal o confidencial (como contrase√±as).

&lt;img src="images/mybinder.png" width="1788" /&gt;


---

# "Binderizando" tu proyecto üåÄ

Crear una versi√≥n Binderizada de un proyecto implica tres pasos clave que se explicar√°n en esta secci√≥n:

--
1. Especificar el entorno computacional. (**intall.R y runtime.txt** )

--

2. Subir los archivos del proyecto en alg√∫n lugar disponible al p√∫blico (**GitHub o GitLab**)

--

3. Binderizar el proyecto (**mybinder.org**)


---

# 1. Especificar el entorno computacional

&gt; runtime.txt

Especifica la version de R para que use Binder.

Para esto debes encontrar la fecha en que esta version fue capturada en MRAN e incluirla en el archivo como
`r-&lt;YYYY&gt;-&lt;MM&gt;-&lt;DD&gt;`

&gt; install.R o DESCRIPTION (R/RStudio)

Este archivo debe contener una lista de todos los paquetes a ser instalados

`install.packages("tibble")`


---

# ¬øQu√© es MRAN? üì∑


Desde el 17 de septiembre de 2014, Microsoft toma una instant√°nea diaria üì∏ de todo el repositorio de CRAN y la almacena en [MRAN](https://mran.microsoft.com/documents/rro/reproducibility#reproducibility). 

Estas instant√°neas han estado disponibles para la comunidad R desde entonces.

Paquete `checkpoint` me permite recuperar las versiones en el repositorio de CRAN para un determinado d√≠a.

---

# 2. Sube tu c√≥digo a GitHub


---

# 3. Binderiza tu proyecto üåÄ

a. Dir√≠gete a https://mybinder.org

b. Pegue la URL del repositorio de GitHub del proyecto
`https://github.com/&lt;your-username&gt;/&lt;your-repository&gt;`

c. Finalmente, haz clic en el bot√≥n de LAUNCH. 
Esto le pedir√° a mybinder.org que cree el entorno necesario para ejecutar el proyecto, tenga en cuenta que esto puede llevar varios minutos.

---

# ¬°Paciencia! Esto lleva un rato ‚è≥


---

# Abrir tu proyecto con RStudio IDE


Cambia el link 

`https://mybinder.org/v2/gh/&lt;usuario&gt;/&lt;repositorio&gt;/&lt;rama&gt;?urlpath?rstudio`

Ejemplo de mi app: https://mybinder.org/v2/gh/flor14/test_shiny/master?urlpath=shiny/test/

---

class: center, middle, inverse

# üåÄ Binderiza tu Shiny App üåÄ

---

# Los pasos 1 y 2 son los mismos

1. Sub√≠ tu app a una carpeta en tu repo de GitHub

2. Especifica el entorno computacional



---

# 3. Agrega el archivo `index.pynb`

Lo descargas desde [ac√°]()

---

# 4. Binderiza tu proyecto üåÄ

a. Dir√≠gete a https://mybinder.org

b. Pegue la URL del repositorio de GitHub del proyecto
`https://github.com/&lt;your-username&gt;/&lt;your-repository&gt;`

c. Finalmente, haz clic en el bot√≥n de LAUNCH. 


¬°Recorda que lleva un rato este paso! ‚è≥


---

# ¬°Listo!


Tenes que llamar la app usando este link si tenes tu datos en github

`https://mybinder.org/v2/gh/&lt;usuario&gt;/&lt;repositorio&gt;/&lt;rama&gt;?urlpath=shiny/&lt;carpeta&gt;/`

Ejemplo de mi app: https://mybinder.org/v2/gh/flor14/test_shiny/master?urlpath=shiny/test/

---



# Links

* [Proyectos en R - R4DS](https://r4ds.had.co.nz/workflow-projects.html#rstudio-projects)

* [The Turing Way Book](https://the-turing-way.netlify.app/)

* [Reproducible Environments - RStudio](https://environments.rstudio.com/)

* [Time_Travel_R (Webinar) - Sean Lopp](https://rstudio.com/resources/webinars/time-travel-r/)

* [renv: Project Environments with R - RStudio blog](https://blog.rstudio.com/2019/11/06/renv-project-environments-for-r/)

* [Rrtools]()

* [Reproducible Research with R - ROpensci Call](https://ropensci.org/commcalls/2019-07-30/)

* [Holepunch]()

---

class: center, middle

# Thanks!

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
